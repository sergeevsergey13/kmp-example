Пример простого кмп приложения с шарингом data, domain, presentation слоя.
В Шаред модуле находится контроллер. Внутри него находится стейт экрана - SharedFlow, на который подписывается нативный ui слой.
Подписка на стейт осуществляется в андроиде через привычный нам механизм, а на айосе через библиотеку skie.
Сверстал только на андроид, если будет потребность, могу и на айосе тоже сделать похожее
Контроллер обращается к репозиторию и загружает новую информацию по вызову его функции getNewFact(при нажатии на кнопку)
Стэк:
1) skie
2) coroutines flow
3) ktor
4) kotlinx serialization
5) compose на андроиде, swiftui на айосе

https://github.com/user-attachments/assets/b2079f2c-1206-4199-9517-d4499bdb2dab

<img width="952" alt="image" src="https://github.com/user-attachments/assets/4696cb55-f238-459a-896d-29eeb6db96d3">
